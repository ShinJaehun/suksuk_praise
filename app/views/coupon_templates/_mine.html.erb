<table class="w-full text-sm">
  <thead>
    <tr class="text-left text-gray-600">
      <th class="py-2"><%= t("coupon_templates.columns.title", default: "ì¿ í°ëª…") %></th>
      <th><%= t("coupon_templates.columns.weight", default: "ê°€ì¤‘ì¹˜") %></th>
      <th><%= t("coupon_templates.columns.active", default: "ìƒíƒœ") %></th>
      <th class="text-right"><%= t("ui.actions", default: "ìž‘ì—…") %></th>
    </tr>
  </thead>

  <tbody>
    <% templates.each do |tpl| %>
      <%= turbo_frame_tag dom_id(tpl) do %>
        <tr class="border-t">
          <td class="py-2"><%= tpl.title %></td>

          <td>
            <%# NOTE: ê°€ì¤‘ì¹˜-í™œì„± ì—°ë™ì€ ì´í›„ ìžë™í™” ì‹œ ë°˜ì˜. ì§€ê¸ˆì€ í‘œì‹œë§Œ ìœ ì§€ %>
            <%= tpl.weight %>
          </td>

          <td>
            <span class="<%= tpl.active? ? 'text-green-700' : 'text-gray-500' %>">
              <%= tpl.active? ? t("ui.on", default: "ì¼œì§") : t("ui.off", default: "êº¼ì§") %>
            </span>
          </td>

          <td class="py-2">
            <div class="flex items-center justify-end gap-3">
              <%# ðŸ” í™œì„±/ë¹„í™œì„± í† ê¸€ %>
              <%= button_to(
                    (tpl.active? ? t("coupon_templates.actions.deactivate", default: "ë¹„í™œì„±") :
                                   t("coupon_templates.actions.activate",   default: "í™œì„±")),
                    toggle_active_coupon_template_path(tpl),
                    method: :patch,
                    form: { data: { disable_with: t("ui.processing", default: "ì²˜ë¦¬ì¤‘...") } },
                    class: "underline"
                  ) %>

              <%# âœï¸ ìˆ˜ì •(ëª¨ë‹¬) %>
              <%= link_to t("ui.edit", default: "ìˆ˜ì •"),
                    edit_coupon_template_path(tpl),
                    data: { turbo_frame: "modal" },
                    class: "underline" %>

              <%# ðŸ—‘ ì‚­ì œ: ê¶Œí•œ í—ˆìš©ë  ë•Œë§Œ ë…¸ì¶œ (ì •ì±… destroy?ëŠ” ê¸°ë³¸ admin-only) %>
              <% if policy(tpl).destroy? %>
                <%= button_to t("ui.delete", default: "ì‚­ì œ"),
                      coupon_template_path(tpl),
                      method: :delete,
                      form: {
                        data: {
                          turbo_confirm: t("coupon_templates.confirm.delete",
                                           default: "ì •ë§ ì‚­ì œí• ê¹Œìš”? ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
                        }
                      },
                      class: "text-red-600 underline" %>
              <% end %>
            </div>
          </td>
        </tr>
      <% end %>
    <% end %>
  </tbody>
</table>
