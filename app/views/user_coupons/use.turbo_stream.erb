<%= turbo_stream.remove dom_id(@coupon) %>

<%= turbo_stream.replace dom_id(@user, :coupons) do %>
  <%= turbo_frame_tag dom_id(@user, :coupons) do %>
    <%= render partial: "user_coupons/list",
               locals: {
                 coupons: UserCoupon
                            .where(user_id: @user.id, classroom_id: @coupon.classroom_id, status: "issued")
                            .includes(:coupon_template)
                            .order(created_at: :desc),
                 user: @user
               } %>
  <% end %>
<% end %>

<%= turbo_stream.replace "flash" do %>
  <%= render "layouts/alerts" %>
<% end %>
