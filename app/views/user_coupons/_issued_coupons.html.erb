<%# locals: (coupons:, show_user:) %>
<% if coupons&.any? %>
  <ul class="space-y-1">
    <% coupons.each do |coupon| %>
      <li id="<%= dom_id(coupon) %>" class="text-sm flex items-center gap-2">
        <% if show_user %>
          <span class="font-semibold"><%= coupon.user.name %></span>
          <span>→</span>
        <% end %>

        <span class="font-semibold"><%= coupon.coupon_template.title %></span>

        <!-- 발급 기준 배지(daily/manual/weekly) -->
        <%= coupon_basis_badge(coupon) %>
        <% if coupon.basis_tag.present? %>
          <span class="text-[11px] text-gray-500">
            (<%= t("coupons.basis_tag.#{coupon.basis_tag}", default: coupon.basis_tag) %>)
          </span>
        <% end %>

        <span class="text-gray-500">(<%= l coupon.issued_at, format: :short %>)</span>
      </li>
    <% end %>
  </ul>
<% else %>
  <p class="text-gray-500 text-sm"><%= t("empty.issued_coupons") %></p>
<% end %>
